#ifndef PIPE_HANDLER_H
#define PIPE_HANDLER_H

/* Clase para traducir eventos a eventos en un descriptor de una pipe.

   Invariantes de clase:

   ...
*/

typedef struct pipe_handler_ pipe_handler;
typedef void (*pipe_handler_function)(event_handler* ev);

struct pipe_handler_ {
    event_handler parent;
    int pipe[2];
};

pipe_handler* pipe_handler_new (int fd, event_handler_function handler);
void pipe_handler_init (event_handler* ev, int fd, event_handler_function handler);
void event_handler_handle_events (event_handler* ev);
void pipe_handler_destroy (pipe_handler* ev);

#endif
